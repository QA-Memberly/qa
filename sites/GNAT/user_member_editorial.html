<html>
    <head>
		<meta charset="utf-8">
       <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
       <meta name="description" content="">
       <meta name="generator" content="Jekyll v4.1.1">
       <title>User Membership</title>

       <link href="../assets/dist/css/custom-formio/theme.less.css" rel="stylesheet">
       <link href="../assets/dist/css/font-awesome.min.css" rel="stylesheet">
	   <link href="../assets/dist/css/bootstrap.min.css" rel="stylesheet">
       <link href="../assets/dist/css/custom-formio/formio.full.min.css" rel="stylesheet">
	   <link href="../assets/dist/css/sanitize.css" rel="stylesheet">
	   <link href="../assets/dist/css/main.css" rel="stylesheet">
	   
       <script src='../assets/dist/js/lodash/lodash.core.min.js'></script>
	   <script src='../assets/dist/js/lodash/lodash.min.js'></script>
	   <script src='../assets/dist/js/jquery-3.5.1.min.js'></script>
	   <script src='../assets/dist/js/attrchange.js'></script>
       <script src='../assets/dist/js/bootstrap.bundle.min.js'></script>
	   <script src='../assets/dist/js/investigate/formio.full.min.js'></script>
	   <script src="../assets/dist/js/sweetalert.min.js"></script>
	   <script src='../assets/dist/js/main.js'></script>
       <script>
	   
		$(document).ready(function () {
			
			var info = getFormInfo();
			console.log('info',info);
			Formio.createForm(document.getElementById('builder'), info.formDefinition)
				.then(function (form) {
					var userObj = setObject(info);
					form.submission = { data: userObj };
					
					$('.card-pricing').click(function () {
						var submission = schemeCard(this.id, info.schemeDefinition, form._data);
						form.submission = { data: submission };
						console.log('card-pricing',form._data);
					});
					//alert(JSON.stringify(userObj));
					console.log(userObj);
					form.nosubmit = true;
					
					form.on('submit', function (submission) {
						var userObject = submissionObject(submission.data);
						submit(form, userObject);
					});

					form.on('redraw', () => {
						form.triggerChange();
					});
				});
			
		});
		
		function editObject(json){
			if(json.bloodGroup){
				json["bloodGroupDisabled"] = json.bloodGroup;
			}
			if(json.tempUserSubType){
				json["roleDisabled"] = json.tempUserSubType;
			}
			return json;
		}
		
		function submissionObject(json){
			console.log(json);
			if(json.hasOwnProperty('tempUserSub') && json.tempUserSub){
				json["tempUserSubType"] = json.tempUserSub;
			}
			console.log(json);
			return json;
		}
		
		function schemeByRole(scheme, formData) {
			return scheme;
		}
		
       </script>
	   <link href="../assets/dist/css/poopins/poopins.css" rel="stylesheet">
    </head>
    <body style="padding:0px;background-color: #dde0e0;">
       <div id="wrapper">
          <div id="initScreen" style="display: block;">
             <div class="section" id="a67a329f1c344dfd887b3efc8a413ed3">
				<span class="loader"></span>
                <div class="screen" id="survey-screen-1" style="background-color: rgb(245, 249, 250);">
                   <div class="main-container">
                      <div id="survey-section" class="">
                         <div class="survey-sub-screen multiplechoice-question-component" id="survey-sub-screen-half-n-half">
                            <div class="head">
                            </div>
                            <div class="question-answer-row" id="section" style="padding-left:10px;padding-right:10px;">
                               <div class="question-answer-cell">
							      <div class='card-bg' id='membership-card'></div>
								  <div class='' id='renewal-details'></div>
								  <div class='scheme-description info-alert m-2' id='description'></div>
                                  <div class='' id='builder'></div>
                               </div>
                            </div>
                         </div>
                      </div>
                      <div class="footer-row">
                         <div class="footer hide-submit">
                            <div id="logo-container">
                               <img style="width:50px;height:40px;" id="logo" src="https://static.wixstatic.com/media/eaa914_9cf3646c1306425db2dc5191490521f2~mv2.png/v1/crop/x_0,y_21,w_340,h_274/fill/w_121,h_96,al_c,q_85,usm_0.66_1.00_0.01/logo_edited.webp" alt="Logo" class="">
                            </div>
                         </div>
                      </div>
                   </div>
                </div>
             </div>
          </div>
          <div id="main-error-container" class="hidden">
             <div id="error-message">Something went wrong. Please retry.</div>
             <div id="retry-button">Retry</div>
          </div>
       </div>
    </body>
 </html>